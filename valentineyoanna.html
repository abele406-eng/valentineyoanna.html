<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Be My Valentine ğŸ’–</title>

  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    body {
      margin: 0;
      height: 100vh;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      font-family: "Comic Sans MS", Arial, sans-serif;
      text-align: center;
      color: #b30059;
      overflow: hidden;
    }

    h1 {
      margin-top: 100px;
      font-size: 42px;
      animation: fadeIn 2s ease;
    }

    #teddy {
      font-size: 120px;
      margin-top: 20px;
      animation: bounce 2s infinite;
    }

    button {
      font-size: 22px;
      padding: 15px 35px;
      border: none;
      border-radius: 40px;
      cursor: pointer;
      position: fixed;
      transition: all 0.15s ease;
      transform-origin: center center;
    }

    #yes {
      background-color: #ff4d6d;
      color: white;
      left: 43%;
      top: 380px;
      box-shadow: 0 0 20px rgba(255, 77, 109, 0.6);
    }

    #no {
      background-color: #aaa;
      color: white;
      left: 55%;
      top: 380px;
    }

    .heart {
      position: fixed;
      font-size: 24px;
      animation: floatUp 6s linear infinite;
      opacity: 0.8;
    }

    #message {
      position: fixed;
      top: 60%;
      width: 100%;
      font-size: 28px;
      color: #ff3366;
      animation: fadeIn 0.5s ease;
    }

    @keyframes floatUp {
      from { transform: translateY(100vh); opacity: 1; }
      to { transform: translateY(-10vh); opacity: 0; }
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>
<body>

  <h1>ğŸ’˜ Will you be my Valentine, <span id="name"></span>? ğŸ’˜</h1>
  <div id="teddy">ğŸ§¸ğŸ’—</div>
  <div id="message"></div>

  <button id="yes">Yes â¤ï¸</button>
  <button id="no">No ğŸ˜¢</button>

  <script>
    const params = new URLSearchParams(window.location.search);
    document.getElementById("name").textContent =
      params.get("name") || "my love";

    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");
    const messageDiv = document.getElementById("message");

    let yesScale = 1;
    let hoverCount = 0;
    let moveSpeed = 150; // initial movement range

    const desperateTexts = [
      "Nice try.. now press Yes ğŸ˜",
      "Don't be shy, say Yes!",
      "Pleaseâ€¦ just press Yes ğŸ’˜",
      "I really need a Yesâ€¦ ğŸ˜¢",
      "I'm starting to feel sadâ€¦ ğŸ˜­",
      "Why won't you press Yes? ğŸ˜",
      "Wooowwâ€¦ Press Yes ğŸ’–",
      "Iâ€™m beggingâ€¦ Please say Yes ğŸ˜¢ğŸ’˜",
      "Oh I seeâ€¦ you really want to play hard ğŸ˜¢",
      "Fineâ€¦ if you don't, I'll remove the No button ğŸ˜­",
      "Button goneâ€¦ now you HAVE to say YES! ğŸ’˜"
    ];

    function randomPosition() {
      const x = Math.random() * (window.innerWidth - 150);
      const y = Math.random() * (window.innerHeight - 150);
      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
    }

    function shakeScreen(level) {
      // small shake effect based on hover level
      const intensity = Math.min(level, 5) * 5;
      const x = (Math.random() - 0.5) * intensity;
      const y = (Math.random() - 0.5) * intensity;
      document.body.style.transform = `translate(${x}px, ${y}px)`;
      setTimeout(() => { document.body.style.transform = 'translate(0,0)'; }, 50);
    }

    noBtn.addEventListener("mouseenter", () => {
      // Move No button faster each hover
      randomPosition();

      // Grow Yes button evenly
      yesScale += 0.12;
      yesBtn.style.transform = `scale(${yesScale})`;

      // Show desperate text
      const textIndex = Math.min(hoverCount, desperateTexts.length - 1);
      messageDiv.textContent = desperateTexts[textIndex];
      hoverCount++;

      // Shake screen more as desperation increases
      shakeScreen(textIndex);

      // If last message, remove No button
      if (textIndex === desperateTexts.length - 1) {
        noBtn.style.display = "none";
      }

      // Increase movement speed range (makes it harder to catch)
      moveSpeed += 10;
    });

    // Floating hearts
    function createHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = "ğŸ’–";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = 4 + Math.random() * 4 + "s";
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 8000);
    }
    setInterval(createHeart, 400);

    // Yes button click: final page
    yesBtn.addEventListener("click", () => {
      document.body.innerHTML = `
        <h1 style="margin-top:80px; font-size:70px;">ğŸ‰ YAYYYYY ğŸ‰</h1>
        <h2 style="font-size:50px; margin-top:20px;">Thank you for being my Valentine ğŸ’–</h2>
        <h2 style="font-size:50px; margin-top:10px;">I love you ğŸ’˜</h2>
        <div style="margin-top:30px;">
          <img src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif"
               style="width:250px; border-radius:20px; display:block; margin:0 auto;">
        </div>
      `;

      const interval = setInterval(() => {
        confetti({
          particleCount: 150,
          spread: 180,
          origin: { x: Math.random(), y: 0.6 }
        });
      }, 350);

      setTimeout(() => clearInterval(interval), 7000);
    });
  </script>

</body>
</html>
